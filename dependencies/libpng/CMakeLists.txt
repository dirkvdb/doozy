SET(MAJOR 1)
SET(MINOR 6)
SET(REVISION 28)
SET(NAME libpng)
SET(PACKAGE ${NAME}-${MAJOR}.${MINOR}.${REVISION})

EXTERNALPROJECT_ADD(${NAME}
    DEPENDS zlib
    URL http://sourceforge.net/projects/${NAME}/files/libpng16/${MAJOR}.${MINOR}.${REVISION}/${PACKAGE}.tar.gz TIMEOUT 30
    INSTALL_DIR ${CMAKE_INSTALL_PREFIX}
    CMAKE_ARGS -G ${CMAKE_GENERATOR}
               -DPNG_SHARED=OFF
               -DPNG_STATIC=ON
               -DPNG_TESTS=OFF
               -DCMAKE_BUILD_TYPE=Release
               -DCMAKE_PREFIX_PATH=<INSTALL_DIR>
               -DCMAKE_INSTALL_PREFIX=<INSTALL_DIR>
               -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
               -DZLIB_ROOT=<INSTALL_DIR>
)
