SET(MAJOR 1)
SET(MINOR 1)
SET(REVISION 0)
SET(NAME benchmark)

IF (CMAKE_CROSSCOMPILING)
    set (CROSS_OPTS -C ${CMAKE_CURRENT_SOURCE_DIR}/TryRunResults.cmake)
ENDIF ()

EXTERNALPROJECT_ADD(${NAME}
    PREFIX ${NAME}
    URL https://github.com/google/${NAME}/archive/v${MAJOR}.${MINOR}.${REVISION}.tar.gz TIMEOUT 30
    INSTALL_DIR ${CMAKE_INSTALL_PREFIX}
    CMAKE_ARGS -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
               -DCMAKE_INSTALL_PREFIX=<INSTALL_DIR>
               -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
               -DBENCHMARK_ENABLE_TESTING=OFF
               ${CROSS_OPTS}
)
