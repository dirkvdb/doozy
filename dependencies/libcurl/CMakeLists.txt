SET(MAJOR 7)
SET(MINOR 49)
SET(REVISION 0)
SET(NAME curl)
SET(PACKAGE ${NAME}-${MAJOR}.${MINOR}.${REVISION})

EXTERNALPROJECT_ADD(${NAME}
    URL http://fossies.org/linux/www/${PACKAGE}.tar.bz2 TIMEOUT 30
    INSTALL_DIR ${CMAKE_BINARY_DIR}/local
    PATCH_COMMAND patch -p0 < ${CMAKE_CURRENT_SOURCE_DIR}/idn.patch
    CMAKE_ARGS -G ${CMAKE_GENERATOR}
               -DCURL_STATICLIB=ON
               -DBUILD_CURL_EXE=OFF
               -DBUILD_CURL_TESTS=OFF
               -DHTTP_ONLY=ON
               -DCURL_DISABLE_CRYPTO_AUTH=ON
               -DENABLE_MANUAL=OFF
               -DCMAKE_USE_OPENSSL=OFF
               -DCMAKE_USE_OPENLDAP=OFF
               -DCMAKE_USE_LIBSSH2=OFF
               -DCMAKE_USE_GSSAPI=OFF
               -DCURL_IDN=OFF
               -DCURL_ZLIB=OFF
               -DENABLE_UNIX_SOCKETS=OFF
               -DCMAKE_BUILD_TYPE=Release
               -DCMAKE_INSTALL_PREFIX=<INSTALL_DIR>
               -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
)
